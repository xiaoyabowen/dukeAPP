<!DOCTYPE html>
<html lang="en" class="commonBg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>聊天</title>
    <link rel="stylesheet" href="../../../css/api.css"/>
    <link rel="stylesheet" href="../../../css/commonWin.css"/>
    <link rel="stylesheet" href="../../../css/mui.min.css">
    <link rel="stylesheet" href="../../../css/swiper.min.css">
    <link rel="stylesheet" href="../../../css/greatCommon.css">
    <link rel="stylesheet" href="../../../css/mofang.css">
    <style>
        .searchClick {
            right: 0.1rem;
        }
        .personJu{
            position: absolute;
            top: 6.4rem;
            right: 0.2rem;
            width: 1.1rem;
            height: 1.1rem;
        }
        .daoboxCast{
            align-items: center;
            justify-content: center;
        }
        .CastTextCom{
            font-size: 0.36rem !important;
            margin-top: 0 !important;
        }

    </style>
</head>
<body class="commonBg">


<div class="Box" id="home" v-cloak>
    <div class="bgBlack" @click="hideBg()"></div>

    <div class="great_header_banner swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide" v-for="(imgSrc, index) in imgs" :key="index">
                <img :src="imgSrc.banner"/>
            </div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
    </div>
    <div class="listBox">
        <img src="../../../image/duke-2.png" class="personJu" alt="person" @click="togle()">
        <div class="positionComCasBox">
            <div class="positionComCast positionRate" @click="juClick(item.circle_id,item.id,item.type_name)" v-for="(item,index) in listBox" :key="index">
                <div class="xuanboxCast " :class="`posiCast${index}`">
                    <!--<div class="xuanboxCast " :class="[`posiCast${index}`,activeAni ? 'animation' : '' ] ">-->
                    <div class="daoboxCast cssFlex">
                        <!--<img src="../../../image/bigWeigh/lvyouW.png" class="iconImgCast" alt="person">-->
                        <div class="CastText CastTextCom commonFont">{{item.type_name}}</div>
                    </div>
                </div>
            </div>
        </div>
        <!--<div class="positionComCast positionRate" @click="juClick(1)">
            <div class="xuanboxCast posiCast1">
                <div class="daoboxCast">
                    <img src="../../../image/bigWeigh/huazhuangA.png" class="iconImgCast" alt="person">
                    <div class="CastText commonFont">化妆品</div>
                </div>
            </div>
        </div>
        <div class="positionComCast positionRate" @click="juClick(3)">
            <div class="xuanboxCast posiCast2">
                <div class="daoboxCast">
                    <img src="../../../image/bigWeigh/fangW.png" class="iconImgCast" alt="person">
                    <div class="CastText commonFont">希腊房产</div>
                </div>
            </div>
        </div>

        <div class="positionComCast positionRate" @click="juClick(6)">
            <div class="xuanboxCast posiCast3">
                <div class="daoboxCast">
                    <img src="../../../image/bigWeigh/baoxianW.png" class="iconImgCast" alt="person">
                    <div class="CastText commonFont">保险</div>
                </div>
            </div>
        </div>
        <div class="positionComCast positionRate" @click="juClick(8)">
            <div class="xuanboxCast posiCast4">
                <div class="daoboxCast">
                    <img src="../../../image/bigWeigh/zucheW.png" class="iconImgCast cariconImgCast" alt="person">
                    <div class="CastText commonFont">租车</div>
                </div>
            </div>
        </div>
        <div class="positionComCast positionRate" @click="juClick(5)">
            <div class="xuanboxCast posiCast5">
                <div class="daoboxCast">
                    <img src="../../../image/bigWeigh/nongW.png" class="iconImgCast" alt="person">
                    <div class="CastText commonFont">农产品</div>
                </div>
            </div>
        </div>
        <div class="positionComCast positionRate" @click="juClick(7)">
            <div class="xuanboxCast posiCast6">
                <div class="daoboxCast">
                    <img src="../../../image/bigWeigh/meirongW.png" class="iconImgCast" alt="person">
                    <div class="CastText commonFont">美容</div>
                </div>
            </div>
        </div>-->
        <div class="positionComCast positionRate" @click="juClick()">
            <div class="xuanboxCast posiCast7 posiCast7FCC">
                <div class="daoboxCast">
                    <img src="../../../image/bigWeigh/xicheW.png" class="iconImgCast" alt="person">
                    <div class="CastText commonFont">洗车券</div>
                </div>
            </div>
        </div>

    </div>


</div>


<script type="text/javascript" src="../../../script/api.js"></script>
<script type="text/javascript" src="../../../script/rem.js"></script>
<script type="text/javascript" src="../../../script/apiCloud.js"></script>
<script type="text/javascript" src="../../../script/public.js"></script>
<script type="text/javascript" src="../../../script/mui.min.js"></script>
<script type="text/javascript" src="../../../script/data.js"></script>
<script src="../../../script/swiper.min.js"></script>
<script src="../../../script/vue.min.js"></script>
<script src="../../../script/vuex.min.js"></script>
<script src="comment/bus.js"></script>


<script src="https://cdn.bootcss.com/eruda/1.2.6/eruda.js"></script>
<script>eruda.init();</script>

<script>
    var m_d,winWidth
    apiready = function () {
        winWidth = api.winWidth;
        winHeight = api.winHeight;

        if (winWidth > winHeight / 2){
            m_d = "1.5"
        }else {
            m_d = "1.8"
        }
        new Vue({
            el: '#home',
            data: {
                isDisplay: false,
                person_id: '',
                active: '',
                listBox: [],
                activeAni:true,
                styles: {
                    //存放的是 动态修改的样式
                    width: m_d + "rem",// 内容标题总样式
                    height: m_d + "rem",
                },
                stylesMove: {
                    //存放的是 动态修改的样式
                    right: m_d + "rem",// 内容标题总样式
                    top: m_d + "rem",
                    width: m_d + "rem",// 内容标题总样式
                    height: m_d + "rem",
                },
                imgs: [

                ]
            },
            created: function () {
                this.CircleTypeMenuSeven()
            },
            mounted: function () {
                var swiper = new Swiper('.swiper-container', {
                    pagination: {
                        el: '.swiper-pagination',
                    },
                    autoplay: true,
                    observer:true,//修改swiper自己或子元素时，自动初始化swiper
                    observeParents:true,//修改swiper的父元素时，自动初始化swiper
                });
            },
            methods: {

                CircleTypeMenuSeven : function (){
                    var that = this;
                    ajaxGetWithProgress(CircleTypeMenuSeven,{},function (data) {
                        console.log(data)
                        if (data){
                            that.listBox = data.CircleTypeMenu;
                            that.imgs = data.CircleBanner;
                        } else{
                            toast("请求出错")
                        }
                    })
                },

                togle: function () {
                    var that = this
                    that.activeAni = true;
                    that.CircleTypeMenuSeven();
                    setTimeout(function () {
                        that.activeAni = false;
                    }, 1500)
                },
                juClick : function (tid,typeid,type_name) {
                    var circle_id;
                    if (tid == ''){
                        circle_id = "37"
                    } else{
                        circle_id = tid
                    }
                    openNewWindow("activeDetail", "./activeDetail.html", {
                        url: "index",
                        circle_id : circle_id,
                        typeid : typeid,
                        type_name : type_name,
                    });


                }
            }
        })
    }

</script>
</body>
</html>
