<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>圈子</title>
    <link rel="stylesheet" href="../../../css/api.css" />
    <link rel="stylesheet" href="../../../css/commonWindow.css" />
    <link rel="stylesheet" href="../../../css/mui.min.css">
</head>
<body>
    <div id="chat">
        <button tapmode onclick="fnOpen( this )" data-name="open"></button>

        <button tapmode onclick="fnClose( this )" data-name="close"></button>

        <button tapmode onclick="fnShow( this )" data-name="show"></button>

        <button tapmode onclick="fnHide( this )" data-name="hide"></button>

        <button tapmode onclick="fnPopupKeyboard( this )" data-name="popupKeyboard"></button>

        <button tapmode onclick="fnCloseKeyboard( this )" data-name="closeKeyboard"></button>

        <button tapmode onclick="fnPopupBoard( this )" data-name="popupBoard"></button>

        <button tapmode onclick="fnCloseBoard( this )" data-name="closeBoard"></button>

        <button tapmode onclick="fnValue( this )" data-name="value">设置</button>

        <button tapmode onclick="fnValue( this )" data-name="value">获取</button>

        <button tapmode onclick="fnInsertValue( this )" data-name="insertValue"></button>

        <button tapmode onclick="fnAddEventListener( this )" data-name="addEventListener">监听 recordBtn 按钮</button>

        <button tapmode onclick="fnAddEventListener( this )" data-name="addEventListener">监听 inputBar</button>

        <button tapmode onclick="fnSetPlaceholder( this )" data-name="setPlaceholder"></button>

        <button tapmode onclick="fnReloadExtraBoard( this )" data-name="reloadExtraBoard"></button>
    </div>

    <script type="text/javascript" src="../../../script/api.js"></script>
    <script type="text/javascript" src="../../../script/util.js"></script>
    <script type="text/javascript" src="../../../script/kv.js"></script>
    <script type="text/javascript" src="../../../script/apiCloud.js"></script>
    <script type="text/javascript" src="../../../script/public.js"></script>
    <script type="text/javascript" src="../../../script/rem.js"></script>
    <script type="text/javascript" src="../../../script/mui.min.js"></script>
    <script type="text/javascript" src="../../../script/data.js"></script>
    <script src="../../../script/vue.min.js"></script>
    <script src="../../../script/vuex.min.js"></script>

    <script src="https://cdn.bootcss.com/eruda/1.2.6/eruda.js"></script>
    <script>eruda.init();</script>
    <script>
        var UIChatBox;
        apiready = function () {

            UIChatBox = api.require('UIChatBox');
            api.setStatusBarStyle({
                color: '#2390ce'
            });
            alert(JSON.stringify(UIChatBox))
            var list = [
                {
                    img: '../../../image/circle/circle01.png',
                    title: '迪卡侬五一免费欢乐泡泡泡',
                    from: '2019-04-16 11:00',
                    to: '2019-05-16 11:00',
                    city: '北京市少年宫',
                    sign: '123',
                    collection: false
                },{
                    img: '../../../image/circle/circle01.png',
                    title: '迪卡侬五一免费欢乐泡泡泡',
                    from: '2019-04-16 11:00',
                    to: '2019-05-16 11:00',
                    city: '北京市少年宫',
                    sign: '123',
                    collection: true
                },
            ]

            new Vue({
                el: '#chat',
                data: {
                    isDisplay: false,
                    list: list,
                    person_id: ''
                },
                created: function () {
                    this.person_id = localStorage.getItem('person_id');

                },
                mounted: function () {

                    this.isDisplay = true;
                },
                methods: {

                }
            })
        }


        function fnClose( el ){
            UIChatBox.close();
        }

        function fnShow( el ){
            UIChatBox.show();
        }

        function fnHide( el ){
            UIChatBox.hide();
        }

        function fnPopupBoard( el){
            UIChatBox.popupBoard({
                target:'extras'
            });
        }

        function fnPopupKeyboard( el){
            UIChatBox.popupKeyboard();
        }

        function fnCloseKeyboard( el){
            UIChatBox.closeKeyboard();
        }

        function fnCloseBoard( el){
            UIChatBox.closeBoard();
        }

        function fnValue( el){
            if( el.innerHTML === '设置' ){
                UIChatBox.value({
                    msg: '使用 value 设置新值'
                });
            }else{
                UIChatBox.value(function(ret, err){
                    if( ret ){
                        alert( JSON.stringify( ret ) );
                    }else{
                        alert( JSON.stringify( err ) );
                    }
                });
            }
        }

        function fnInsertValue( el){
            UIChatBox.insertValue({
                msg: '使用 insertValue 插入的新值'
            });
        }


        function fnAddEventListener( el){
            if( el.innerHTML === '监听 recordBtn 按钮' ){
                UIChatBox.addEventListener({
                    target: 'recordBtn',
                    name: 'press'
                }, function( ret, err ){
                    if( ret ){
                        alert( JSON.stringify( ret ) );
                    }else{
                        alert( JSON.stringify( err ) );
                    }
                });
            }else{
                UIChatBox.addEventListener({
                    target: 'inputBar',
                    name: 'move'
                }, function( ret, err ){
                    if( ret ){
                        alert( JSON.stringify( ret ) );
                    }else{
                        alert( JSON.stringify( err ) );
                    }
                });
            }
        }

        function fnSetPlaceholder( el){
            UIChatBox.setPlaceholder({
                placeholder: '修改了占位提示内容'
            });
        }

        function fnReloadExtraBoard( el){
            UIChatBox.reloadExtraBoard({
                extras: {
                    btns: [{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },]
                }
            });
        }

        function fnOpen( el ){
            UIChatBox.open({
                placeholder: '输入发送内容',
                autoFocus: true,
                emotionPath: 'widget://image/emotion',
                styles: {
                    extrasBtn: {
                        normalImg: 'widget://image/add1.png'
                    },
                    speechBtn: {
                        normalImg: 'widget://image/cam1.png'
                    },
                    indicator: {
                        target: 'extrasPanel',
                        color: '#c4c4c4',
                        activeColor: '#9e9e9e'
                    },
                    sendBtn: {
                        titleColor: '#4cc518',
                        bg: '#999999' ,
                        activeBg: '#46a91e',
                        titleSize: 14
                    }
                },
                extras: {
                    titleSize: 10,
                    titleColor: '#a3a3a3',
                    btns: [{
                        title: '图片',
                        normalImg: 'widget://image/album1.png',
                        activeImg: 'widget://image/album2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '图片',
                        normalImg: 'widget://image/album1.png',
                        activeImg: 'widget://image/album2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '图片',
                        normalImg: 'widget://image/album1.png',
                        activeImg: 'widget://image/album2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '图片',
                        normalImg: 'widget://image/album1.png',
                        activeImg: 'widget://image/album2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '图片',
                        normalImg: 'widget://image/album1.png',
                        activeImg: 'widget://image/album2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    },{
                        title: '图片',
                        normalImg: 'widget://image/album1.png',
                        activeImg: 'widget://image/album2.png'
                    },{
                        title: '发送地址',
                        normalImg: 'widget://image/loc1.png',
                        activeImg: 'widget://image/loc2.png'
                    }]
                }
            }, function( ret, err ){
                if( ret ){
                    alert( JSON.stringify( ret ) );
                }else{
                    alert( JSON.stringify( err ) );
                }
            });
        }

    </script>
</body>
</html>
